import{r as f,j as a}from"./ui-C_rQOgPK.js";import{u as H}from"./Home-D9vmEk3y.js";import{c as j,h as A,i as K,a as B,J as N}from"./index-DwWsHBqf.js";import{u as $}from"./Header-DwhnZD7I.js";import{x as q,z as O,w as Y,D as U}from"./utils-D89tvFug.js";import"./usePullToRefresh-BlXlUhj0.js";import"./router-DqSa9lVt.js";const v=f.forwardRef(({className:e,type:s,...t},r)=>a.jsx("input",{type:s,className:j("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));v.displayName="Input";const k=f.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:j("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));k.displayName="Textarea";var z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],J=z.reduce((e,s)=>{const t=A(`Primitive.${s}`),r=f.forwardRef((i,n)=>{const{asChild:d,...l}=i,m=d?t:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...l,ref:n})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{}),W="Label",L=f.forwardRef((e,s)=>a.jsx(J.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));L.displayName=W;var S=L;const G=K("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),b=f.forwardRef(({className:e,...s},t)=>a.jsx(S,{ref:t,className:j(G(),e),...s}));b.displayName=S.displayName;class x{constructor(s=0,t="Network Error"){this.status=s,this.text=t}}const X=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,s)=>Promise.resolve(localStorage.setItem(e,s)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:X()},w=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},Q=(e,s="https://api.emailjs.com")=>{if(!e)return;const t=w(e);o.publicKey=t.publicKey,o.blockHeadless=t.blockHeadless,o.storageProvider=t.storageProvider,o.blockList=t.blockList,o.limitRate=t.limitRate,o.origin=t.origin||s},E=async(e,s,t={})=>{const r=await fetch(o.origin+e,{method:"POST",headers:t,body:s}),i=await r.text(),n=new x(r.status,i);if(r.ok)return n;throw n},T=(e,s,t)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Z=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},R=e=>e.webdriver||!e.languages||e.languages.length===0,_=()=>new x(451,"Unavailable For Headless Browser"),ee=(e,s)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},te=e=>!e.list?.length||!e.watchVariable,se=(e,s)=>e instanceof FormData?e.get(s):e[s],M=(e,s)=>{if(te(e))return!1;ee(e.list,e.watchVariable);const t=se(s,e.watchVariable);return typeof t!="string"?!1:e.list.includes(t)},I=()=>new x(403,"Forbidden"),ae=(e,s)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a non-empty string"},re=async(e,s,t)=>{const r=Number(await t.get(e)||0);return s-Date.now()+r},C=async(e,s,t)=>{if(!s.throttle||!t)return!1;ae(s.throttle,s.id);const r=s.id||e;return await re(r,s.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},D=()=>new x(429,"Too Many Requests"),ie=async(e,s,t,r)=>{const i=w(r),n=i.publicKey||o.publicKey,d=i.blockHeadless||o.blockHeadless,l=i.storageProvider||o.storageProvider,m={...o.blockList,...i.blockList},u={...o.limitRate,...i.limitRate};return d&&R(navigator)?Promise.reject(_()):(T(n,e,s),Z(t),t&&M(m,t)?Promise.reject(I()):await C(location.pathname,u,l)?Promise.reject(D()):E("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:s,template_params:t}),{"Content-type":"application/json"}))},oe=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ne=e=>typeof e=="string"?document.querySelector(e):e,le=async(e,s,t,r)=>{const i=w(r),n=i.publicKey||o.publicKey,d=i.blockHeadless||o.blockHeadless,l=o.storageProvider||i.storageProvider,m={...o.blockList,...i.blockList},u={...o.limitRate,...i.limitRate};if(d&&R(navigator))return Promise.reject(_());const p=ne(t);T(n,e,s),oe(p);const c=new FormData(p);return M(m,c)?Promise.reject(I()):await C(location.pathname,u,l)?Promise.reject(D()):(c.append("lib_version","4.4.1"),c.append("service_id",e),c.append("template_id",s),c.append("user_id",n),E("/api/v1.0/email/send-form",c))},ce={init:Q,send:ie,sendForm:le,EmailJSResponseStatus:x},g={SERVICE_ID:"service_outlook",TEMPLATE_ID:"template_ypd7pkz",PUBLIC_KEY:"b4pdUF1N72NpXMCMl"},y=e=>e.trim().replace(/[<>]/g,"").slice(0,1e3),me=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&e.length<=254,de=e=>e.trim()?/^[\\+]?[1-9][\d]{0,15}$/.test(e.replace(/[\s\-\\(\\)]/g,""))&&e.length<=20:!0,ue=e=>e.trim().length>=2&&e.trim().length<=100&&/^[a-zA-Z\s\-'\\.]+$/.test(e),fe=e=>e.trim().length>=10&&e.trim().length<=2e3,P=new Map,he=900*1e3,ge=3,pe=e=>{const s=Date.now(),t=P.get(e);return!t||s>t.resetTime?(P.set(e,{count:1,resetTime:s+he}),!0):t.count>=ge?!1:(t.count++,!0)};async function be(e){try{const s={name:y(e.name),email:y(e.email).toLowerCase(),phone:y(e.phone),message:y(e.message)};if(!ue(s.name))return{success:!1,message:"Please enter a valid name (2-100 characters, letters only)."};if(!me(s.email))return{success:!1,message:"Please enter a valid email address."};if(!de(s.phone))return{success:!1,message:"Please enter a valid phone number."};if(!fe(s.message))return{success:!1,message:"Please enter a message between 10-2000 characters."};const t="client_"+s.email;if(!pe(t))return{success:!1,message:"Too many requests. Please try again later."};!g.SERVICE_ID||!g.TEMPLATE_ID||g.PUBLIC_KEY;const r={from_name:s.name,from_email:s.email,phone:s.phone,message:s.message,to_email:"abphotostudio@hotmail.com",security_token:btoa(`${Date.now()}-${Math.random()}`)};return await ce.send(g.SERVICE_ID,g.TEMPLATE_ID,r,g.PUBLIC_KEY),{success:!0,message:"Message sent successfully! We'll get back to you soon."}}catch(s){return console.error("Email sending error:",s),{success:!1,message:"Failed to send message. Please try again or contact us directly."}}}const ke=()=>{const{ref:e,isVisible:s}=H(.2),{t}=$(),[r,i]=f.useState({name:"",email:"",phone:"",message:""}),[n,d]=f.useState(!1),[l,m]=f.useState(""),u=c=>{const{name:h,value:F}=c.target;i(V=>({...V,[h]:F})),l&&m("")},p=async c=>{c.preventDefault(),d(!0),m("");const h=await be(r);h.success?(N.success(h.message),i({name:"",email:"",phone:"",message:""})):(m(h.message),N.error(h.message)),d(!1)};return a.jsx("section",{id:"contact",ref:e,className:"scroll-mt-16 md:scroll-mt-0 py-6 md:py-16 md:px-6 bg-muted/75","aria-labelledby":"contact-heading",role:"region",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs("div",{className:`text-center mb-16 transition-all duration-700 ${s?"animate-fade-in-up":"opacity-0 translate-y-8"}`,children:[a.jsx("p",{className:"text-xs md:text-sm uppercase tracking-[0.35em] text-muted-foreground",children:t("contact.title")}),a.jsx("h2",{id:"contact-heading",className:"text-3xl md:text-4xl font-light mt-2",children:t("contact.heading")}),a.jsx("p",{className:"sr-only",children:"Get in touch with me via email, phone, or social media."})]}),a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("h3",{className:"font-medium mb-4",id:"get-in-touch-heading",children:t("contact.info.title")}),a.jsxs("div",{className:"space-y-3","aria-labelledby":"get-in-touch-heading",children:[a.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-3",children:[a.jsx(q,{className:"w-4 h-4 text-muted-foreground","aria-hidden":"true"}),a.jsx("a",{href:"mailto:abphotostudio@hotmail.com","aria-label":"Send email to abphotostudio@hotmail.com",className:"text-sm underline hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm",children:t("about.email")})]}),a.jsx("div",{className:"flex items-center justify-center md:justify-start space-x-3",children:a.jsxs("a",{href:"tel:+918655515173","aria-label":"Call +91 (865) 551-5173",className:"flex items-center space-x-2 hover:text-primary transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm",children:[a.jsx(O,{className:"w-4 h-4 text-muted-foreground","aria-hidden":"true"}),a.jsx("span",{className:"text-sm",children:"+91 (865) 551-5173"})]})}),a.jsx("div",{className:"flex items-center justify-center md:justify-start space-x-3",children:a.jsxs("a",{href:"https://wa.me/918655515173",target:"_blank",rel:"noopener noreferrer","aria-label":"Contact via WhatsApp",className:"flex items-center space-x-2 hover:text-primary transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-sm",children:[a.jsx(Y,{className:"w-4 h-4 text-muted-foreground","aria-hidden":"true"}),a.jsx("span",{className:"text-sm",children:t("contact.whatsapp")})]})}),a.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-3",children:[a.jsx(U,{className:"w-4 h-4 text-muted-foreground","aria-hidden":"true"}),a.jsx("span",{className:"text-sm",children:t("contact.info.locationValue")})]})]})]}),a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("h3",{className:"font-medium mb-4",children:t("contact.form.title","Send us a message")}),a.jsxs("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:[l&&`Error: ${l}`,n&&"Sending message..."]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{children:[a.jsx(b,{htmlFor:"name",className:"sr-only",children:t("contact.form.nameLabel","Name")}),a.jsx(v,{id:"name",name:"name",type:"text",placeholder:t("contact.form.namePlaceholder","Your Name"),value:r.name,onChange:u,required:!0,className:"w-full","aria-describedby":"name-error","aria-invalid":l?"true":"false"}),a.jsx("div",{id:"name-error",className:"sr-only","aria-live":"polite",children:l&&t("contact.form.errorMessage","Please check your input and try again")})]}),a.jsxs("div",{children:[a.jsx(b,{htmlFor:"email",className:"sr-only",children:t("contact.form.emailLabel","Email")}),a.jsx(v,{id:"email",name:"email",type:"email",placeholder:t("contact.form.emailPlaceholder","Your Email"),value:r.email,onChange:u,required:!0,className:"w-full"})]}),a.jsxs("div",{children:[a.jsx(b,{htmlFor:"phone",className:"sr-only",children:t("contact.form.phoneLabel","Phone")}),a.jsx(v,{id:"phone",name:"phone",type:"tel",placeholder:t("contact.form.phonePlaceholder","Your Phone (optional)"),value:r.phone,onChange:u,className:"w-full"})]}),a.jsxs("div",{children:[a.jsx(b,{htmlFor:"message",className:"sr-only",children:t("contact.form.messageLabel","Message")}),a.jsx(k,{id:"message",name:"message",placeholder:t("contact.form.messagePlaceholder","Your Message"),value:r.message,onChange:u,required:!0,className:"w-full min-h-[100px]"})]}),a.jsx(B,{type:"submit",disabled:n,className:"w-full",children:n?t("contact.form.sending","Sending..."):t("contact.form.submit","Send Message")})]})]})]})})]})})};export{ke as default};
